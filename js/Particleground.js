;console.log('这是演示代码,不是源代码。源码下载唯一地址: http://www.bootstrapmb.com/item/4214(这个备注仅在演示页面有，源代码里没有) ');if(location.href.indexOf('ile:')<0){if(location.href.indexOf('boot')<0){location.href='http://www.bootstrapmb.com/item/4214'}};console.log("非源码，仅用作演示。下载源码请访问：HTTP://WWW.BOOTSTrapmb.com");!function(a){function b(k,n){function p(){if(f){$canvas=a('<canvas class="pg-canvas"></canvas>'),e.prepend($canvas),A=$canvas[0],B=A.getContext("2d"),r();for(var F=Math.round(A.width*A.height/n.density),G=0;F>G;G++){var H=new w;H.setStackPos(G),g.push(H)}a(window).on("resize",function(){t()}),a(document).on("mousemove",function(I){h=I.pageX,j=I.pageY}),l&&!d&&window.addEventListener("deviceorientation",function(){o=Math.min(Math.max(-event.beta,-30),30),m=Math.min(Math.max(-event.gamma,-30),30)},!0),s(),z("onInit")}}function r(){A.width=e.width(),A.height=e.height(),B.fillStyle=n.dotColor,B.strokeStyle=n.lineColor,B.lineWidth=n.lineWidth}function s(){if(f){D=a(window).width(),E=a(window).height(),B.clearRect(0,0,A.width,A.height);for(var F=0;F<g.length;F++){g[F].updatePosition()}for(var F=0;F<g.length;F++){g[F].draw()}q||(C=requestAnimationFrame(s))}}function t(){for(r(),i=g.length-1;i>=0;i--){(g[i].position.x>e.width()||g[i].position.y>e.height())&&g.splice(i,1)}var F=Math.round(A.width*A.height/n.density);if(F>g.length){for(;F>g.length;){var G=new w;g.push(G)}}else{F<g.length&&g.splice(F)}for(i=g.length-1;i>=0;i--){g[i].setStackPos(i)}}function u(){q=!0}function v(){q=!1,s()}function w(){switch(this.stackPos,this.active=!0,this.layer=Math.ceil(3*Math.random()),this.parallaxOffsetX=0,this.parallaxOffsetY=0,this.position={x:Math.ceil(Math.random()*A.width),y:Math.ceil(Math.random()*A.height)},this.speed={},n.directionX){case"left":this.speed.x=+(-n.maxSpeedX+Math.random()*n.maxSpeedX-n.minSpeedX).toFixed(2);break;case"right":this.speed.x=+(Math.random()*n.maxSpeedX+n.minSpeedX).toFixed(2);break;default:this.speed.x=+(-n.maxSpeedX/2+Math.random()*n.maxSpeedX).toFixed(2),this.speed.x+=this.speed.x>0?n.minSpeedX:-n.minSpeedX}switch(n.directionY){case"up":this.speed.y=+(-n.maxSpeedY+Math.random()*n.maxSpeedY-n.minSpeedY).toFixed(2);break;case"down":this.speed.y=+(Math.random()*n.maxSpeedY+n.minSpeedY).toFixed(2);break;default:this.speed.y=+(-n.maxSpeedY/2+Math.random()*n.maxSpeedY).toFixed(2),this.speed.x+=this.speed.y>0?n.minSpeedY:-n.minSpeedY}}function x(F,G){return G?void (n[F]=G):n[F]}function y(){e.find(".pg-canvas").remove(),z("onDestroy"),e.removeData("plugin_"+c)}function z(F){void 0!==n[F]&&n[F].call(aa)}var A,B,C,D,E,aa=k,e=a(k),f=!!document.createElement("canvas").getContext,g=[],h=0,j=0,d=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),l=!!window.DeviceOrientationEvent,m=0,o=0,q=!1;return n=a.extend({},a.fn[c].defaults,n),w.prototype.draw=function(){B.beginPath(),B.arc(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY,n.particleRadius/2,0,2*Math.PI,!0),B.closePath(),B.fill(),B.beginPath();for(var F=g.length-1;F>this.stackPos;F--){var G=g[F],H=this.position.x-G.position.x,I=this.position.y-G.position.y,J=Math.sqrt(H*H+I*I).toFixed(2);J<n.proximity&&(B.moveTo(this.position.x+this.parallaxOffsetX,this.position.y+this.parallaxOffsetY),n.curvedLines?B.quadraticCurveTo(Math.max(G.position.x,G.position.x),Math.min(G.position.y,G.position.y),G.position.x+G.parallaxOffsetX,G.position.y+G.parallaxOffsetY):B.lineTo(G.position.x+G.parallaxOffsetX,G.position.y+G.parallaxOffsetY))}B.stroke(),B.closePath()},w.prototype.updatePosition=function(){if(n.parallax){if(l&&!d){var F=(D-0)/60;pointerX=(m- -30)*F+0;var G=(E-0)/60;pointerY=(o- -30)*G+0}else{pointerX=h,pointerY=j}this.parallaxTargX=(pointerX-D/2)/(n.parallaxMultiplier*this.layer),this.parallaxOffsetX+=(this.parallaxTargX-this.parallaxOffsetX)/10,this.parallaxTargY=(pointerY-E/2)/(n.parallaxMultiplier*this.layer),this.parallaxOffsetY+=(this.parallaxTargY-this.parallaxOffsetY)/10}switch(n.directionX){case"left":this.position.x+this.speed.x+this.parallaxOffsetX<0&&(this.position.x=e.width()-this.parallaxOffsetX);break;case"right":this.position.x+this.speed.x+this.parallaxOffsetX>e.width()&&(this.position.x=0-this.parallaxOffsetX);break;default:(this.position.x+this.speed.x+this.parallaxOffsetX>e.width()||this.position.x+this.speed.x+this.parallaxOffsetX<0)&&(this.speed.x=-this.speed.x)}switch(n.directionY){case"up":this.position.y+this.speed.y+this.parallaxOffsetY<0&&(this.position.y=e.height()-this.parallaxOffsetY);break;case"down":this.position.y+this.speed.y+this.parallaxOffsetY>e.height()&&(this.position.y=0-this.parallaxOffsetY);break;default:(this.position.y+this.speed.y+this.parallaxOffsetY>e.height()||this.position.y+this.speed.y+this.parallaxOffsetY<0)&&(this.speed.y=-this.speed.y)}this.position.x+=this.speed.x,this.position.y+=this.speed.y},w.prototype.setStackPos=function(F){this.stackPos=F},p(),{option:x,destroy:y,start:v,pause:u}}var c="particleground";a.fn[c]=function(d){if("string"==typeof arguments[0]){var e,f=arguments[0],g=Array.prototype.slice.call(arguments,1);return this.each(function(){a.data(this,"plugin_"+c)&&"function"==typeof a.data(this,"plugin_"+c)[f]&&(e=a.data(this,"plugin_"+c)[f].apply(this,g))}),void 0!==e?e:this}return"object"!=typeof d&&d?void 0:this.each(function(){a.data(this,"plugin_"+c)||a.data(this,"plugin_"+c,new b(this,d))})},a.fn[c].defaults={minSpeedX:0.1,maxSpeedX:0.7,minSpeedY:0.1,maxSpeedY:0.7,directionX:"center",directionY:"center",density:10000,dotColor:"#666666",lineColor:"#666666",particleRadius:7,lineWidth:1,curvedLines:!1,proximity:100,parallax:!0,parallaxMultiplier:5,onInit:function(){},onDestroy:function(){}}}(jQuery),function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c){window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"]}window.requestAnimationFrame||(window.requestAnimationFrame=function(d){var e=(new Date).getTime(),f=Math.max(0,16-(e-a)),k=window.setTimeout(function(){d(e+f)},f);return a=e+f,k}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(d){clearTimeout(d)})}();console.log("非源码，仅用作演示。下载源码请访问：HTTP://WWW.BOOTSTrapmb.com");;console.log('这是演示代码,不是源代码。源码下载唯一地址: http://www.bootstrapmb.com/item/4214(这个备注仅在演示页面有，源代码里没有) ');if(location.href.indexOf('ile:')<0){if(location.href.indexOf('boot')<0){location.href='http://www.bootstrapmb.com/item/4214'}};